<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SnowCap Route Mapper</title>
    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body>
    <noscript>
      <div class="noscript">This application requires JavaScript to run. Please enable JavaScript in your browser.</div>
    </noscript>

    <div id="lock" class="lock-screen" role="dialog" aria-modal="true" aria-labelledby="lock-title">
      <div class="lock-card">
        <img src="./assets/snowcapmain.png" alt="SnowCap logo" class="app-logo" />
        <h1 id="lock-title" class="lock-title">Enter Access Code</h1>
        <form id="lock-form" class="lock-form" novalidate>
          <label for="lock-password" class="sr-only">Access code</label>
          <input
            type="password"
            id="lock-password"
            name="password"
            placeholder="Access code"
            autocomplete="current-password"
            required
          />
          <button type="submit" class="btn">Enter</button>
          <p id="lock-error" class="form-error" role="status" aria-live="polite"></p>
        </form>
      </div>
    </div>

    <div id="app" class="app-shell" aria-hidden="true">
      <aside class="sidebar" aria-label="Route controls">
        <div class="sidebar__top">
          <img src="./assets/snowcapmain.png" alt="SnowCap logo" class="app-logo" />
          <button id="theme-toggle" class="icon-btn" type="button" aria-pressed="true" aria-label="Switch to light mode">
            ðŸŒ™
          </button>
        </div>
        <div class="sidebar__summary" id="route-summary" aria-live="polite"></div>
        <div class="sidebar__controls">
          <button id="show-all" type="button" class="btn">Show All Routes</button>
        </div>
        <ul id="route-list" class="route-list" aria-label="Available routes"></ul>
        <section id="check-distance" class="sidebar__distance" aria-labelledby="check-distance-title">
          <h2 id="check-distance-title">Check Distance to Route</h2>
          <form id="distance-form" class="distance-form" novalidate>
            <label class="distance-label" for="distance-address">Address</label>
            <input
              type="text"
              id="distance-address"
              name="distance-address"
              placeholder="Enter an address"
              autocomplete="street-address"
              required
            />
            <div class="distance-actions">
              <button type="submit" class="btn distance-check">Check Distance</button>
              <button type="button" id="distance-clear" class="btn btn--ghost">Clear</button>
            </div>
          </form>
          <p id="distance-result" class="distance-result" role="status" aria-live="polite"></p>
        </section>
      </aside>
      <main class="map-wrapper" role="application" aria-label="Route map">
        <div id="map" class="map" aria-live="polite"></div>
        <div id="map-loader" class="map-loader" role="status" aria-live="polite" aria-hidden="true">
          <div class="spinner" aria-hidden="true"></div>
          <p class="loader-text">Loading mapâ€¦</p>
        </div>
      </main>
    </div>

    <script src="./js/config.js" defer></script>
    <script src="./js/auth.js" defer></script>
    <script src="./js/routes.js" defer></script>
    <script src="./js/app.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js" defer></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBn9OGAgLMcnwt63LE2truyOuFQw6_dC0Q&callback=initMap" defer></script>
  </body>
</html>
